# 🎯 Linux服务管理器 - 项目介绍

## 📖 项目概述

**Linux服务管理器**是一个创新的系统管理工具，它将传统的Linux服务管理与现代AI技术相结合。通过支持MCP（模型上下文协议），用户可以使用自然语言与Claude等AI模型对话来管理Linux系统服务。

### 🌟 核心亮点

- **🤖 AI驱动**: 通过自然语言对话管理系统服务
- **🔄 多协议支持**: 同时支持MCP协议和HTTP REST API
- **🐧 全平台兼容**: 支持systemd、System V init、Docker三大服务管理系统
- **🛡️ 安全可靠**: 完善的权限控制和错误处理
- **📱 易于使用**: 一键配置，即刻使用

## 🎨 使用场景

### 👩‍💻 系统管理员
```
"帮我检查所有web服务的运行状态"
"重启所有数据库相关的服务"  
"为什么nginx服务启动失败？"
```

### 🔧 DevOps工程师
```
"停止staging环境的所有容器"
"查看最近部署的微服务日志"
"优化服务器的资源使用"
```

### 🎓 学习者
```
"systemd和传统init有什么区别？"
"如何排查服务启动问题？"
"Docker容器管理的最佳实践是什么？"
```

## 🏗️ 技术架构

### 核心组件

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   Claude AI     │    │  MCP Protocol    │    │ HTTP REST API   │
│                 │◄──►│                  │◄──►│                 │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                               │
                               ▼
                    ┌──────────────────┐
                    │  Service Manager │
                    │                  │
                    └──────────────────┘
                               │
        ┌──────────────────────┼──────────────────────┐
        │                      │                      │
        ▼                      ▼                      ▼
┌─────────────┐        ┌─────────────┐        ┌─────────────┐
│   systemd   │        │  System V   │        │   Docker    │
│   Manager   │        │   Manager   │        │   Manager   │
└─────────────┘        └─────────────┘        └─────────────┘
```

### 技术栈

- **后端语言**: Go 1.21+
- **协议支持**: MCP (JSON-RPC 2.0), HTTP REST
- **服务管理**: systemd, SysV init, Docker API
- **日志框架**: logrus
- **路由框架**: gorilla/mux
- **配置格式**: YAML

## 🔧 功能特性详解

### MCP工具集 (8个核心工具)

| 工具名称 | 功能描述 | 支持类型 |
|---------|---------|----------|
| `list_services` | 列出系统服务 | systemd, sysv, docker |
| `get_service_status` | 获取服务详细状态 | 全部 |
| `start_service` | 启动服务 | 全部 |
| `stop_service` | 停止服务 | 全部 |
| `restart_service` | 重启服务 | 全部 |
| `enable_service` | 启用开机自启 | 全部 |
| `disable_service` | 禁用开机自启 | 全部 |
| `get_docker_logs` | 获取容器日志 | docker |

### MCP提示词 (2个专业模板)

| 提示词名称 | 功能描述 | 参数 |
|-----------|---------|-----|
| `service_management_help` | 服务管理帮助文档 | topic (可选) |
| `service_troubleshooting` | 故障排除指导 | service_name, error_description |

### HTTP API端点 (10+ RESTful接口)

```
GET    /services              # 列出所有服务
GET    /services/{name}/status # 获取服务状态
POST   /services/{name}/start  # 启动服务
POST   /services/{name}/stop   # 停止服务
POST   /services/action        # 通用服务操作
GET    /docker/{name}/logs     # Docker日志
DELETE /docker/{name}/remove   # 删除容器
GET    /health                 # 健康检查
GET    /info                   # 服务器信息
```

## 📊 性能特性

### 🚀 响应性能
- **平均响应时间**: < 100ms (本地操作)
- **并发支持**: 支持多客户端同时访问
- **内存占用**: < 50MB 运行时内存
- **CPU占用**: 待机状态 < 1%

### 🔄 可扩展性
- **模块化设计**: 易于添加新的服务管理器
- **插件架构**: 支持自定义工具和提示词
- **配置驱动**: 无需重编译即可调整行为
- **多实例部署**: 支持集群部署

## 🛡️ 安全特性

### 权限控制
- **最小权限原则**: 只请求必要的系统权限
- **用户隔离**: 支持非root用户运行（部分功能）
- **操作审计**: 完整的操作日志记录

### 数据安全
- **无数据存储**: 不持久化敏感信息
- **内存安全**: 及时清理敏感数据
- **传输安全**: 支持本地通信（避免网络暴露）

## 🔮 发展路线图

### v1.1 计划功能
- [ ] 服务依赖关系可视化
- [ ] 批量服务操作优化
- [ ] 更多Linux发行版支持
- [ ] 性能监控集成

### v1.2 计划功能
- [ ] Web界面支持
- [ ] 集群管理功能
- [ ] Kubernetes集成
- [ ] 告警和通知系统

### v2.0 愿景
- [ ] 跨平台支持 (Windows, macOS)
- [ ] 云原生服务管理
- [ ] AI驱动的性能优化建议
- [ ] 图形化服务拓扑

## 🤝 贡献指南

### 开发环境设置
```bash
# 1. 克隆项目
git clone <repository-url>
cd mcp_srv_mgr

# 2. 安装依赖
go mod tidy

# 3. 运行测试
go test ./...

# 4. 构建项目
go build -o mcp-server
```

### 贡献方式
- 🐛 **Bug报告**: 提交详细的问题描述
- 💡 **功能建议**: 分享您的创意想法
- 🔧 **代码贡献**: 提交Pull Request
- 📖 **文档改进**: 帮助完善文档

## 📞 支持与社区

### 获取帮助
- 📚 **文档**: 查看完整的使用文档
- 🐛 **问题反馈**: GitHub Issues
- 💬 **讨论交流**: GitHub Discussions

### 许可证
本项目采用 **MIT许可证**，欢迎自由使用和修改。

---

**让AI成为您的Linux系统管理助手！** 🚀

通过自然语言对话，让系统管理变得简单、直观、高效。无论您是经验丰富的系统管理员，还是刚入门的学习者，Linux服务管理器都能为您提供强大的支持。