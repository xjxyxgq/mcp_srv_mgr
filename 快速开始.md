# 🚀 快速开始指南

## 5分钟配置您的Linux服务管理AI助手

### 步骤1：编译MCP服务器 (2分钟)

```bash
# 进入项目目录
cd mcp_srv_mgr

# 编译项目
go build -o mcp-server

# 验证编译成功
./mcp-server -version
```

**期望输出**:
```
Linux Service Manager v1.0.0
Supports both HTTP REST API and MCP (Model Context Protocol)
```

### 步骤2：配置Claude Desktop (2分钟)

1. **找到配置文件位置**:
   - **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
   - **Windows**: `%APPDATA%/Claude/claude_desktop_config.json`
   - **Linux**: `~/.config/Claude/claude_desktop_config.json`

2. **编辑配置文件**:
```json
{
  "mcpServers": {
    "linux-service-manager": {
      "command": "/完整路径/到/您的/mcp-server",
      "args": ["-mcp", "-log-level", "error"]
    }
  }
}
```

**💡 获取完整路径技巧**:
```bash
# 在项目目录中运行
pwd
# 然后在路径后加上 /mcp-server
```

### 步骤3：启动和测试 (1分钟)

1. **重启Claude Desktop**

2. **测试连接** - 在Claude中输入：
```
"你现在可以管理Linux服务了吗？请列出当前系统中运行的systemd服务。"
```

如果配置成功，Claude会使用MCP工具查询并显示服务列表！

## 🎯 常用对话示例

### 基础操作
```
👤 "显示所有Docker容器的状态"
👤 "nginx服务现在运行正常吗？"
👤 "重启apache2服务"
👤 "停止mysql服务"
```

### 故障排除
```
👤 "我的redis服务无法启动，帮我诊断一下"
👤 "查看web-app容器的日志，最近100行"
👤 "为什么docker服务状态是failed？"
```

### 系统维护
```
👤 "列出所有已停止的服务"
👤 "哪些服务设置了开机自启？"
👤 "帮我优化系统服务配置"
```

## ⚡ 高级配置

### 开发模式（详细日志）
```json
{
  "mcpServers": {
    "linux-service-manager": {
      "command": "/path/to/mcp-server",
      "args": ["-mcp", "-log-level", "debug"]
    }
  }
}
```

### 生产模式（静默运行）
```json
{
  "mcpServers": {
    "linux-service-manager": {
      "command": "/path/to/mcp-server",
      "args": ["-mcp", "-log-level", "error"]
    }
  }
}
```

## 🔧 验证安装

运行以下命令验证各组件：

```bash
# 1. 验证Go环境
go version

# 2. 验证systemd (如果使用)
systemctl --version

# 3. 验证Docker (如果使用)
docker --version

# 4. 测试MCP服务器
echo '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{"protocolVersion":"2024-11-05","capabilities":{},"clientInfo":{"name":"test","version":"1.0"}}}' | ./mcp-server -mcp
```

## 🛠️ 故障排除快速参考

| 问题 | 解决方案 |
|------|----------|
| 编译失败 | 检查Go版本 >= 1.21 |
| Claude看不到工具 | 确认配置文件路径正确，重启Claude Desktop |
| 权限被拒绝 | 使用 `sudo ./mcp-server -mcp` 或添加用户到相关组 |
| Docker操作失败 | 确认用户在docker组：`sudo usermod -aG docker $USER` |

## 📱 移动端提示

如果您使用Claude移动应用，MCP服务器需要在您的服务器上运行，并通过网络访问。这种情况下建议使用HTTP API模式：

```bash
# 生成HTTP配置
./mcp-server -generate-config

# 编辑config.yaml设置合适的host和port
# 然后启动HTTP服务器
./mcp-server -config config.yaml
```

## 🎉 成功！

配置完成后，您就拥有了一个强大的AI驱动的Linux服务管理助手！

您可以用自然语言与Claude对话来：
- 🔍 查询服务状态
- ⚡ 启停服务
- 🐛 诊断问题
- 📊 监控系统
- 🔧 维护服务

开始探索吧！